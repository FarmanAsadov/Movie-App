{"ast":null,"code":"var _jsxFileName = \"/Users/farmanasadov/Desktop/Movie-App/src/pages/home/home.jsx\",\n  _s = $RefreshSig$();\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport Card from \"../../components/card/card\";\nimport { useEffect, useState } from \"react\";\nimport getMovies from \"../../helpers/fetch\";\nimport NotMovie from \"../../components/notMovie/notMovie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const navigate = useNavigate();\n  const location = useLocation();\n  console.log(location);\n  const params = new URLSearchParams(location.search).get(\"search\") || \"\";\n  useEffect(() => {\n    getMovies(\"/movie/popular\").then(setData).catch(error => {\n      console.error(\"Error fetching popular movies:\", error);\n    });\n  }, []);\n  useEffect(() => {\n    const filteredMovies = data.filter(movie => movie.title.toLowerCase().includes(params.toLowerCase()));\n    setFilteredData(filteredMovies);\n  }, [params, data]);\n  const handleCardClick = cardData => {\n    navigate(`/movie/${cardData.id}`, {\n      state: cardData\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: filteredData.length !== 0 ? filteredData.map((item, index) => /*#__PURE__*/_jsxDEV(Card, {\n      onClick: handleCardClick,\n      data: item\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }, this)) : /*#__PURE__*/_jsxDEV(NotMovie, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"rmcs0E2RPEdXGWRIUcKiblRYKX8=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useLocation","useNavigate","Card","useEffect","useState","getMovies","NotMovie","jsxDEV","_jsxDEV","Home","_s","data","setData","filteredData","setFilteredData","navigate","location","console","log","params","URLSearchParams","search","get","then","catch","error","filteredMovies","filter","movie","title","toLowerCase","includes","handleCardClick","cardData","id","state","className","children","length","map","item","index","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/farmanasadov/Desktop/Movie-App/src/pages/home/home.jsx"],"sourcesContent":["import { useLocation, useNavigate } from \"react-router-dom\";\nimport Card from \"../../components/card/card\";\nimport { useEffect, useState } from \"react\";\nimport getMovies from \"../../helpers/fetch\";\nimport NotMovie from \"../../components/notMovie/notMovie\";\n\nconst Home = () => {\n  const [data, setData] = useState([]);\n\n  const [filteredData, setFilteredData] = useState([]);\n\n  const navigate = useNavigate();\n\n  const location = useLocation();\n  console.log(location)\n\n  const params = new URLSearchParams(location.search).get(\"search\") || \"\";\n\n  useEffect(() => {\n    getMovies(\"/movie/popular\")\n      .then(setData)\n      .catch((error) => {\n        console.error(\"Error fetching popular movies:\", error);\n      });\n  }, []); \n\n  useEffect(() => {\n    const filteredMovies = data.filter((movie) =>\n      movie.title.toLowerCase().includes(params.toLowerCase())\n    );\n    setFilteredData(filteredMovies);\n  }, [params, data]);\n\n  const handleCardClick = (cardData) => {\n    navigate(`/movie/${cardData.id}`, { state: cardData });\n  };\n\n  return (\n    <div className=\"container\">\n      {filteredData.length !== 0 ? (\n        filteredData.map((item, index) => (\n          <Card key={index} onClick={handleCardClick} data={item} />\n        ))\n      ) : (\n        <NotMovie />\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":";;AAAA,SAASA,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,OAAOC,IAAI,MAAM,4BAA4B;AAC7C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,SAAS,MAAM,qBAAqB;AAC3C,OAAOC,QAAQ,MAAM,oCAAoC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,MAAMC,IAAI,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAEpC,MAAM,CAACS,YAAY,EAAEC,eAAe,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAMW,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAE9B,MAAMe,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EAC9BiB,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;EAErB,MAAMG,MAAM,GAAG,IAAIC,eAAe,CAACJ,QAAQ,CAACK,MAAM,CAAC,CAACC,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE;EAEvEnB,SAAS,CAAC,MAAM;IACdE,SAAS,CAAC,gBAAgB,CAAC,CACxBkB,IAAI,CAACX,OAAO,CAAC,CACbY,KAAK,CAAEC,KAAK,IAAK;MAChBR,OAAO,CAACQ,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAENtB,SAAS,CAAC,MAAM;IACd,MAAMuB,cAAc,GAAGf,IAAI,CAACgB,MAAM,CAAEC,KAAK,IACvCA,KAAK,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACZ,MAAM,CAACW,WAAW,CAAC,CAAC,CACzD,CAAC;IACDhB,eAAe,CAACY,cAAc,CAAC;EACjC,CAAC,EAAE,CAACP,MAAM,EAAER,IAAI,CAAC,CAAC;EAElB,MAAMqB,eAAe,GAAIC,QAAQ,IAAK;IACpClB,QAAQ,CAAE,UAASkB,QAAQ,CAACC,EAAG,EAAC,EAAE;MAAEC,KAAK,EAAEF;IAAS,CAAC,CAAC;EACxD,CAAC;EAED,oBACEzB,OAAA;IAAK4B,SAAS,EAAC,WAAW;IAAAC,QAAA,EACvBxB,YAAY,CAACyB,MAAM,KAAK,CAAC,GACxBzB,YAAY,CAAC0B,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBAC3BjC,OAAA,CAACN,IAAI;MAAawC,OAAO,EAAEV,eAAgB;MAACrB,IAAI,EAAE6B;IAAK,GAA5CC,KAAK;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAyC,CAC1D,CAAC,gBAEFtC,OAAA,CAACF,QAAQ;MAAAqC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EACZ;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACpC,EAAA,CA1CID,IAAI;EAAA,QAKSR,WAAW,EAEXD,WAAW;AAAA;AAAA+C,EAAA,GAPxBtC,IAAI;AA4CV,eAAeA,IAAI;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}